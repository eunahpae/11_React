<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>eventHandling</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>

<body>
    <div id="root"></div>

    <script type="text/babel">
        /* spread ì—°ì‚°ì, rest parameter */

        // 1. spread ì—°ì‚°ì (í¼ì¹¨ ì—°ì‚°ì)
        // - ê°ì²´ë‚˜ ë°°ì—´ì˜ ê°’ì„ í¼ì³ì„œ ë³µì‚¬í•˜ê±°ë‚˜ ë³‘í•©í•  ë•Œ ì‚¬ìš©ë¨
        let obj = {
            prop0: 'p0',
            prop1: 'p1',
            prop2: 'p2'
        };

        // objë¥¼ ë³µì‚¬í•˜ë©´ì„œ prop2 ê°’ì„ 'modify'ë¡œ ë®ì–´ì”€
        let objCopy = {
            ...obj,            // objì˜ ëª¨ë“  í”„ë¡œí¼í‹°ë¥¼ í¼ì³ì„œ ë³µì‚¬
            prop2: 'modify'    // ê¸°ì¡´ prop2ë¥¼ ìƒˆë¡œìš´ ê°’ìœ¼ë¡œ ë®ì–´ì“°ê¸°
        };

        console.log(objCopy);
        // ì¶œë ¥ ê²°ê³¼: { prop0: 'p0', prop1: 'p1', prop2: 'modify' }
        // => ë³µì‚¬ëœ ê°ì²´ì´ì§€ë§Œ prop2 ê°’ë§Œ ìˆ˜ì •ë¨ (ì›ë³¸ì€ ê·¸ëŒ€ë¡œ)

        /*
            ë‚´ë¶€ ë™ì‘:
            objCopy = {
                prop0: 'p0',
                prop1: 'p1',
                prop2: 'p2',
                prop2: 'modify'   // ë‚˜ì¤‘ì— ì‘ì„±ëœ prop2ê°€ ìµœì¢… ê°’ìœ¼ë¡œ ì ìš©ë¨
            }
            â€» ë™ì¼í•œ í‚¤ê°€ ì¤‘ë³µë˜ë©´ ë§ˆì§€ë§‰ ê°’ì´ ìš°ì„ ë¨
        */

        // 2. rest parameter (ë‚˜ë¨¸ì§€ íŒŒë¼ë¯¸í„°)
        // - ë°°ì—´ì´ë‚˜ ê°ì²´ì—ì„œ ì¼ë¶€ ê°’ì„ ë¶„ë¦¬í•˜ê³ ,
        //   ë‚˜ë¨¸ì§€ë¥¼ ë³„ë„ì˜ ë³€ìˆ˜ë¡œ ë¬¶ì„ ë•Œ ì‚¬ìš©ë¨

        // ğŸ“Œ ë°°ì—´ êµ¬ì¡° ë¶„í•´ ì˜ˆì‹œ
        let [a, ...rest] = [1, 2, 3];
        // ì²« ë²ˆì§¸ ìš”ì†Œ 1ì€ ë³€ìˆ˜ aì— í• ë‹¹ë¨
        // ë‚˜ë¨¸ì§€ ìš”ì†Œë“¤(2, 3)ì€ ë°°ì—´ë¡œ ë¬¶ì—¬ restì— ì €ì¥ë¨

        console.log(a);     // ì¶œë ¥: 1
        console.log(rest);  // ì¶œë ¥: [2, 3]
        // ğŸ“Œ ê°ì²´ êµ¬ì¡° ë¶„í•´ ì˜ˆì‹œ
        let { prop1, ...restObj } = { prop1: 'a', prop3: 'c' };
        // prop1 í”„ë¡œí¼í‹°ëŠ” ë³€ìˆ˜ prop1ì— í• ë‹¹ ('a')
        // ë‚˜ë¨¸ì§€ í”„ë¡œí¼í‹°(prop3)ëŠ” restObj ê°ì²´ì— ë¬¶ì„

        console.log(restObj);  // ì¶œë ¥: { prop3: 'c' }

        /*
            ë‚´ë¶€ ë™ì‘ ì„¤ëª…:
        
            ë°°ì—´ì˜ ê²½ìš°:
            [a, ...rest] = [1, 2, 3]
            => a = 1
               rest = [2, 3]
        
            ê°ì²´ì˜ ê²½ìš°:
            { prop1, ...restObj } = { prop1: 'a', prop3: 'c' }
            => prop1 = 'a'
               restObj = { prop3: 'c' }
        
            ğŸ“Œ ì¦‰:
            - ë°°ì—´ì—ì„œëŠ” ë‚˜ë¨¸ì§€ ìš”ì†Œë“¤ì´ 'ë°°ì—´'ë¡œ ë¬¶ì„
            - ê°ì²´ì—ì„œëŠ” ë‚˜ë¨¸ì§€ í”„ë¡œí¼í‹°ë“¤ì´ 'ê°ì²´'ë¡œ ë¬¶ì„
        */


        // ğŸ’¡ ì°¸ê³ : spread ì—°ì‚°ìì™€ rest íŒŒë¼ë¯¸í„°ëŠ” ë¬¸ë²•ì€ ê°™ì§€ë§Œ ì˜ë¯¸ê°€ ë‹¤ë¦„
        // - spread (...) â†’ ê°’ì„ "í¼ì³ì„œ" ë³µì‚¬í•˜ê±°ë‚˜ ì „ë‹¬í•  ë•Œ ì‚¬ìš© (ì „ê°œ)
        // - rest (...)   â†’ ë‚¨ì€ ê°’ì„ "ë¬¶ì–´ì„œ" ë³´ê´€í•  ë•Œ ì‚¬ìš© (ìˆ˜ì§‘)

        // ì˜ˆì‹œ ë¹„êµ:
        // spread: const objCopy = { ...original, newProp: 'value' }
        // rest:   const { a, ...rest } = original




        // í´ë˜ìŠ¤í˜• ì»´í¬ë„ŒíŠ¸: ì…ë ¥ í•„ë“œì˜ ê°’ ìƒíƒœë¥¼ ê´€ë¦¬í•˜ê³  ë²„íŠ¼ í´ë¦­ ì‹œ ì•Œë¦¼ í‘œì‹œ
        class ClassEventComponent extends React.Component {
            // state ì´ˆê¸°í™”
            state = {
                message: ''
            }

            // ì…ë ¥ê°’ ë³€ê²½ ì‹œ í˜¸ì¶œë˜ëŠ” í•¸ë“¤ëŸ¬
            handleChange = (e) => {
                // ì…ë ¥ëœ ê°’ì„ ìƒíƒœë¡œ ì„¤ì •
                this.setState({ message: e.target.value });
            }

            // ë²„íŠ¼ í´ë¦­ ì‹œ í˜¸ì¶œë˜ëŠ” í•¸ë“¤ëŸ¬
            handleClick = () => {
                // í˜„ì¬ ë©”ì‹œì§€ ìƒíƒœë¥¼ alertë¡œ ì¶œë ¥
                alert(this.state.message);
                // ì…ë ¥ í•„ë“œ ì´ˆê¸°í™”
                this.setState({ message: '' });
            }

            render() {
                return (
                    <>
                        <h2>í´ë˜ìŠ¤í˜• ì»´í¬ë„ŒíŠ¸ ì´ë²¤íŠ¸</h2>
                        {/* ì…ë ¥ í•„ë“œ: ìƒíƒœì™€ ì—°ê²°ë˜ì–´ ìˆê³ , ë³€ê²½ ì‹œ handleChange í˜¸ì¶œ */}
                        <input
                            type="text"
                            placeholder="ë©”ì„¸ì§€ ì…ë ¥"
                            value={this.state.message}
                            onChange={this.handleChange}
                        />
                        {/* ë²„íŠ¼: í´ë¦­ ì‹œ handleClick í˜¸ì¶œ */}
                        <button onClick={this.handleClick}>í™•ì¸</button>
                    </>
                )
            }
        }

        // í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸: ê°œë³„ ìƒíƒœë¡œ ì•„ì´ë””/ë¹„ë°€ë²ˆí˜¸ ì…ë ¥ê°’ ê´€ë¦¬
        function FunctionEventComponent() {
            // useStateë¡œ ìƒíƒœ ì •ì˜
            const [username, setUsername] = React.useState('');
            const [password, setPassword] = React.useState('');

            // ë¡œê·¸ì¸ ë²„íŠ¼ í´ë¦­ ì‹œ í˜¸ì¶œë˜ëŠ” í•¨ìˆ˜
            const handleLogin = () => {
                // ì…ë ¥ê°’ì„ alertë¡œ ì¶œë ¥
                alert(`username: ${username}\npassword: ${password}`);

                // ì…ë ¥ í•„ë“œ ì´ˆê¸°í™”
                setUsername('');
                setPassword('');
            }

            return (
                <>
                    <h2>í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ - ê°ì²´ë¡œ ìƒíƒœë¥¼ í†µí•© ê´€ë¦¬í•˜ëŠ” ê²½ìš°</h2>
                    {/* ì•„ì´ë”” ì…ë ¥ í•„ë“œ */}
                    <input
                        type="text"
                        name="username"
                        placeholder="ì•„ì´ë””"
                        value={username}
                        onChange={e => setUsername(e.target.value)}
                    />
                    {/* ë¹„ë°€ë²ˆí˜¸ ì…ë ¥ í•„ë“œ */}
                    <input
                        type="password"
                        name="password"
                        placeholder="ë¹„ë°€ë²ˆí˜¸"
                        value={password}
                        onChange={e => setPassword(e.target.value)}
                    />
                    {/* ë¡œê·¸ì¸ ë²„íŠ¼ */}
                    <button onClick={handleLogin}>ë¡œê·¸ì¸</button>
                </>
            )
        }

        function FunctionEventComponent2() {
            const [form, setForm] = React.useState({ username: '', password: '' });
            const { username, password } = form;

            // ì´ë²¤íŠ¸ê°€ ë°œìƒí•œ input íƒœê·¸ì˜ name ì†ì„± ê°’ì„ í™œìš©í•˜ì—¬ í•˜ë‚˜ì˜ í•¸ë“¤ëŸ¬ ë©”ì†Œë“œë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤. 
            const handleChange = (e) => {
                console.log(e.target.name);
                const changeForm = {
                    ...form,    // ìŠ¤í”„ë ˆë“œ ì—°ì‚°ìë¥¼ ì‚¬ìš©í•´ ê¸°ì¡´ form ê°ì²´ì˜ ëª¨ë“  ì†ì„±ì„ ë³µì‚¬
                    [e.target.name]: e.target.value // ì´ë²¤íŠ¸ê°€ ë°œìƒí•œ nameê³¼ ì¼ì¹˜í•˜ëŠ” í‚¤ì˜ ê°’ì„ ë³€ê²½
                }
                setForm(changeForm);
            }

            // ë¡œê·¸ì¸ ë²„íŠ¼ í´ë¦­ ì‹œ í˜¸ì¶œë˜ëŠ” í•¨ìˆ˜
            const handleLogin = () => {
                // ì…ë ¥ê°’ì„ alertë¡œ ì¶œë ¥
                alert(`username: ${username}\npassword: ${password}`);

                // ì…ë ¥ í•„ë“œ ì´ˆê¸°í™”
                setForm({ username: '', password: '' });
            }

            return (
                <>
                    <h2>í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ - ê°ì²´ ê¸°ë°˜ ìƒíƒœ</h2>
                    {/* ì•„ì´ë”” ì…ë ¥ í•„ë“œ */}
                    <input
                        type="text"
                        name="username"
                        placeholder="ì•„ì´ë””"
                        value={username}
                        onChange={handleChange}
                    />
                    {/* ë¹„ë°€ë²ˆí˜¸ ì…ë ¥ í•„ë“œ */}
                    <input
                        type="password"
                        name="password"
                        placeholder="ë¹„ë°€ë²ˆí˜¸"
                        value={password}
                        onChange={handleChange}
                    />
                    {/* ë¡œê·¸ì¸ ë²„íŠ¼ */}
                    <button onClick={handleLogin}>ë¡œê·¸ì¸</button>
                </>
            )
        }

        // App ì»´í¬ë„ŒíŠ¸: í´ë˜ìŠ¤í˜•/í•¨ìˆ˜í˜• ì´ë²¤íŠ¸ ì»´í¬ë„ŒíŠ¸ í¬í•¨
        function App() {
            return (
                <>
                    <ClassEventComponent />
                    <hr />
                    <FunctionEventComponent />
                    <hr />
                    <FunctionEventComponent2 />
                </>
            )
        }

        // App ì»´í¬ë„ŒíŠ¸ë¥¼ rootì— ë Œë”ë§
        ReactDOM.createRoot(document.getElementById("root")).render(<App />);
    </script>

</body>

</html>