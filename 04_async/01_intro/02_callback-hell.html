<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>callback-hell</title>
</head>

<body>

    <script>

        // ðŸ”§ ë¹„ë™ê¸° ìž‘ì—…ì„ ì‹œë®¬ë ˆì´ì…˜í•˜ëŠ” í•¨ìˆ˜
        // 'number'ë¥¼ ë°›ì•„ì„œ 1ì´ˆ í›„ì— 10ì„ ë”í•œ ê°’ì„ ì½œë°± í•¨ìˆ˜ì— ì „ë‹¬í•œë‹¤.
        function increase(number, callback) {
            setTimeout(() => {
                const result = number + 10;

                if (callback) {
                    callback(result);
                }
            }, 1000);
        }

        // í•œ ë²ˆ ì‹¤í–‰ì‹œì—ëŠ” í° ë¬¸ì œê°€ ì•ˆë¨
        increase(0, result => console.log(result));

        // â›“ï¸ ì•„ëž˜ ì½”ë“œëŠ” "ì½œë°± ì§€ì˜¥(Callback Hell)"ì˜ ëŒ€í‘œì ì¸ ì˜ˆì‹œì´ë‹¤.
        /*
            â— ì½œë°± ì§€ì˜¥ì´ëž€?
            - ì½œë°± í•¨ìˆ˜ ì•ˆì— ë˜ ì½œë°±ì„ ë„£ê³ ,
            - ê·¸ ì•ˆì— ë˜ ì½œë°±ì„ ë„£ê³ ,
            - ì´ëŸ° ì‹ìœ¼ë¡œ ê³„ì† ì¤‘ì²©ë˜ëŠ” ì½”ë“œ êµ¬ì¡°.

            ðŸ“› ë¬¸ì œì 
            - ë“¤ì—¬ì“°ê¸°ê°€ ì ì  ê¹Šì–´ì§€ë©° ê°€ë…ì„±ì´ ë–¨ì–´ì§
            - ìœ ì§€ë³´ìˆ˜ ë° ë””ë²„ê¹…ì´ ì–´ë ¤ì›€
            - íë¦„ì„ í•œëˆˆì— íŒŒì•…í•˜ê¸° ì–´ë ¤ì›€
            - ì—ëŸ¬ ì²˜ë¦¬ê°€ ë³µìž¡í•´ì§

            âœ… í•´ê²° ë°©ë²•
            - Promise ë˜ëŠ” async/awaitë¥¼ ì‚¬ìš©í•˜ë©´ í›¨ì”¬ ê°€ë…ì„±ì´ ì¢‹ì€ ì½”ë“œ ìž‘ì„± ê°€ëŠ¥
        */

        // âš ï¸ ì½œë°±ì´ ì¤‘ì²©ë˜ë©° ì ì  ê¹Šì–´ì§€ëŠ” êµ¬ì¡° (ì½œë°± í—¬)
        console.log('start');
        increase(0, result => {
            console.log(result);
            increase(result, result => {
                console.log(result);
                increase(result, result => {
                    console.log(result);
                    increase(result, result => {
                        console.log(result);
                        increase(result, result => {
                            console.log(result);
                            increase(result, result => {
                                console.log(result);
                                console.log('end');
                            })
                        })
                    })
                })
            })
        })

    </script>

</body>

</html>